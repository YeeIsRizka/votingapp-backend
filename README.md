## 📖 Voting Backend

This backend is used for the Votepat frontend available at [akwancakra/votepat](https://github.com/akwancakra/votepat). It handles voting functionalities and includes a new implementation for storing user voting data on the blockchain. The backend is built using the boilerplate available at [typescript-backend-toolkit](https://github.com/muneebhashone/typescript-backend-toolkit).

## ✨ Features

- **📜 OpenAPI Autogenerated Swagger Docs**: Automatically generated Swagger docs through MagicRouter API and Zod, accessible at `/api-docs`.
- **✅ Data Validation & Serialization**: Zod is used for validation and serialization of data.
- **⚙️ Configuration Management**: Managed using dotenv-cli and validated with Zod for accuracy and safety.
- **🛡️ Middlewares**:
  - **🔑 Authorization**: Built-in authorization middleware.
  - **📏 Zod Schema Validation**: Ensures your API inputs are correctly validated.
  - **🔍 JWT Extraction**: Easily extract and verify JWT tokens.
- **🧹 ESLint Setup**: Pre-configured ESLint setup for consistent code quality.
- **🚀 Development Server**: Run the server in development mode using ts-node-dev.
- **🔗 Blockchain Integration**: Store user voting data securely on the blockchain using Hardhat.

## 🛠️ Tech Stack

- **TypeScript**
- **Node.js**
- **Express**
- **Prisma**
- **PostgreSQL**
- **Docker**
- **Redis**
- **BullMQ**
- **AWS S3**
- **Google Auth**
- **Zod**
- **Swagger**
- **Nodemailer**
- **EJS**
- **PM2**
- **Blockchain**

## 🛠️ Prerequisites

Before you get started, make sure you have the following installed on your machine:

- **Docker + Docker Compose**
- **PNPM**
- **Node.js 20+ (LTS)**

## 🚀 How to Run

1. **Set up Docker Services**:

   ```sh
   docker-compose up -d
   ```

2. **Install Dependencies**:

   ```sh
   pnpm install
   ```

3. **Configure Environment Variables**:

   - Create a `.env` file in the root directory.
   - Use the provided `.env.sample` as a template to enter all the required environment variables.

4. **Run the Development Server**:

   ```sh
   pnpm run dev
   ```

5. **Compile Smart Contract (once every smart contract edited)**:

   ```sh
   pnpm run hh:compile
   ```

6. **Run the Hardhat Server**:

   ```sh
   pnpm run hh
   ```

7. **Run the Hardhat typechain (once every smart contract edited)**:

   ```sh
   pnpm run hh:typechain
   ```

8. **Run the ignite Hardhat (once every smart contract edited)**:

   ```sh
   pnpm run hh:ignite
   ```

9. **Deploy Smart Contract to Hardhat**:

   ```sh
   pnpm run hh:deploy
   ```

10. **Build for Production**:

    ```sh
    pnpm run build
    ```

## 🤝 Contributions

Feel free to contribute to this project by submitting issues or pull requests. Let's build something amazing together!

## 👥 Developers

- **[Akwan Cakra](https://github.com/akwancakra)**
- **[Ramandha Putra](https://github.com/ramaGitScholar)**
- **[Rafif Aiman](https://github.com/auahcok)**
- **[Rizka Alfadilla](https://github.com/YeeIsRizka)**

## 📄 License

This project is licensed under the MIT License - see the LICENSE file for details.
